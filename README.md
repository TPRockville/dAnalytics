Drug Analytics Development Approach

Link: http://danalytics.tpgsi.com
Upon project initiation, TurningPoint assembled a small, focused team comprised of a Product Owner (Lead), Architect, Requirements team and DevOps engineers. The team was selected based on their experience in modern digital services, Big Data Analytics technology stack, and DevOps techniques like continuous integration and continuous deployment.  The Product Owner (Project Manager) was given complete and final authority over the scope of the project and features to be implemented, and was ultimately responsible for how well dAnalytics meets the needs of its users. His responsibilities included ensuring that features were built correctly, managing feature and bug backlogs, as well as budget management. The team was divided into Requirements team and the DevOps team, which was subdivided into Rest API, Hadoop and UI teams. Team members were split into two shifts to maximize productivity.
The key to meeting project goals was to include “real people,” who would be likely end-users of dAnalytics, in the design process to ensure all technical and design decisions were informed by an understanding of what consumers actually need.  We based the requirements on set of hypothesis and tested them with the end users. Some of the hypotheses were proven false and we had to pivot and iteratively refine them. Based on discussions with the end users, we learned that patients need a consumer friendly mechanism to understand adverse events that may be associated with drugs they have been prescribed. Data surrounding adverse events and spikes was publically available but had not been presented in a way that made it easily consumable or usable by the general public patient population. We have developed dAnalytics as a publically accessible portal that presents the Drug Adverse Event dataset. dAnalytics identifies spikes in the drug adverse event reported dataset and correlate this to any drug recalls, emergency room visits or patient discharges.  dAnalytics also allows users to filter data by weight, gender, and age so that they can have a more personalized and meaningful user experience.  
To reduce cost and enhance flexibility and interoperability, we have used modern, platform independent, open source technologies, including Java 1.8, Apache Hadoop, MariaDB, Spring Boot, Angular JS, jQuery, Twitter Bootstrap, Apache Sqoop and Gradle. For the complete technology stack and architecture please refer to dAnalytics design document. To reduce risk and allow working software to be delivered as soon as possible, we employed an Agile Development Methodology. We have used GitHub as the source code repository, for documenting user stories and defect tracking. This enabled us handle task management more efficiently and with fewer handoffs. To proactively track risks and progress, and ensure communication between shifts we held twice-a-day standup meetings with a hand off to the 2nd shift. The DevOps team continuously integrated, tested and deployed every day to verify application performance. The new development as a part of the deployment was reviewed during the standup meetings and we prioritized features to be developed or modified for the next day. The sub teams developed code outside of the master code base, to enable a code review before merge to the master code base. We added features iteratively throughout the development period to deliver an innovative, scalable, mobile and desktop digital service.   
We developed dAnalytics to work in an ‘Online’ and an ‘Offline’ mode.  In the online mode, we query the OpenFDA API. In Offline mode, we query the same data downloaded in our database.  The offline mode enables dAnalytics to run independently of the OpenFDA API, making it available even when the OpenFDA API is offline. The offline mode gives us the flexibility to develop new APIs using the downloaded data. Apache Hadoop is used in the first step to preprocess the downloaded data. Hadoop provides the ability to process large datasets in a distributed environment. Apache Sqoop was used to load the data from Hadoop into MariaDB – a relational database. Star schema data model is used for rapid data retrieval. MariaDB is a modern, open source RDBMS derived from MySql. We have developed REST APIs to present the data from the MariaDB. The complete list of APIs developed is available in the dAnalytics design document. dAnalytics web interface built on AngularJS, uses the REST APIs to render the data on the web page. We have used AngularJS as it is a modern, open source web framework ideal for developing modern user friendly web applications. We use the cross platform jQuery library for plotting the graphs and charts on the screen. We have used Twitter Bootstrap to make dAnalytics user interface responsive and usable across desktop browsers and mobile devices.   The UI prototype was refined iteratively with People to ensure that their requirements were addressed. The screen evolution is captured in various minute of meetings documents available in dAnalytics project in GitHub.  
The Business Analyst was responsible for developing the algorithm for identifying the spikes in the adverse event data set. The algorithm was fine-tuned by running it on different data sets. The details of the algorithm are in SpikeAlgorithm.docx. 
To meet the accessibility needs of all potential users, we designed and developed the interface to be Section 508 compliant. The final UI was ‘Human Centric’ using end user interviews, wire framing and prototyping, simple, intuitive, and renders on both mobile and desktop browsers.
We have ‘remixed’ the Adverse Events dataset with the Enforcement reports available from the APIs on opn.fda.gov. We have also downloaded publicly available Emergency Room and Patient Discharge data from Healthdata.gov to provide more information for the spikes in the adverse event reports. The approach is documented in RecallDataLookup.docx and DischargeAndERDataLookup.docx.      
To ensure the system met spikes in traffic and user demand, we deployed dAnalytics using IaaS provided by Amazon Web Services (AWS). We have used Docker as container for the code deployment to achieve operating system level virtualization. The deployment architecture diagram is available in dAnalytics deployment document. We monitor system health in real time using Monit. Monit is an open source tool that monitors CPU, memory usage and process status and is configured to send out alerts to an email distribution list. We designed dAnalytics with non-limiting architecture and AWS resource scaling to deliver a high availability, high performing solution. 
